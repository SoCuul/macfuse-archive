.\" Automatically generated by Pandoc 3.1.11.1
.\"
.TH "fuse\-archive" "1" "August 2025" "fuse\-archive 1.14" "User Manual"
.SH NAME
\f[B]fuse\-archive\f[R] \- Mount an archive or compressed file as a FUSE
file system.
.SH SYNOPSIS
\f[B]fuse\-archive\f[R] [\f[I]options\f[R]] \f[I]archive\-file\f[R]
[\f[I]mount\-point\f[R]]
.SH DESCRIPTION
\f[B]fuse\-archive\f[R] is a program that serves an archive or
compressed file (e.g.
\f[CR]foo.tar\f[R], \f[CR]foo.tar.gz\f[R], \f[CR]foo.xz\f[R] or
\f[CR]foo.zip\f[R]) as a read\-only \c
.UR https://en.wikipedia.org/wiki/Filesystem_in_Userspace
FUSE
.UE \c
\ file system.
.PP
It is similar to \c
.UR https://github.com/google/mount-zip
\f[B]mount\-zip\f[R]
.UE \c
\ and \c
.UR https://bitbucket.org/agalanin/fuse-zip
\f[B]fuse\-zip\f[R]
.UE \c
\ but speaks a larger range of archive or compressed file formats.
.PP
It is similar to \c
.UR https://github.com/cybernoid/archivemount
\f[B]archivemount\f[R]
.UE \c
\ but can be much faster (see the Performance section below) although it
can only mount read\-only, not read\-write.
.SH OPTIONS
.TP
\f[B]\-\-help\f[R] or \f[B]\-h\f[R]
Print help
.TP
\f[B]\-\-version\f[R] or \f[B]\-V\f[R]
Print version
.TP
\f[B]\-o quiet\f[R] or \f[B]\-q\f[R]
Print fewer log messages
.TP
\f[B]\-o verbose\f[R] or \f[B]\-v\f[R]
Print more log messages
.TP
\f[B]\-o redact\f[R]
Redact file names from log messages
.TP
\f[B]\-o force\f[R]
Continue despite errors
.TP
\f[B]\-o lazycache\f[R]
Incremental caching of uncompressed data
.TP
\f[B]\-o nocache\f[R]
No caching of uncompressed data
.TP
\f[B]\-o nospecials\f[R]
Hide special files (FIFOs, sockets, devices)
.TP
\f[B]\-o nosymlinks\f[R]
Hide symbolic links
.TP
\f[B]\-o nohardlinks\f[R]
No files with multiple hard links
.TP
\f[B]\-o dmask=M\f[R]
Directory permission mask in octal (default 0022)
.TP
\f[B]\-o fmask=M\f[R]
File permission mask in octal (default 0022)
.TP
\f[B]\-o uid=N\f[R]
Set the file owner of all the items in the mounted archive (default is
current user)
.TP
\f[B]\-o gid=N\f[R]
Set file group of all the items in the mounted archive (default is
current group)
.TP
\f[B]\-o default_permissions\f[R]
Use the file owner (UID), group (GID) and permissions stored with each
item in the archive.
.TP
\f[B]\-f\f[R]
Foreground mode
.TP
\f[B]\-d\f[R]
Foreground mode with debug output
.SH ARCHIVE FORMATS
\f[B]fuse\-archive\f[R] determines the archive format from its filename
extension.
It recognizes the following extensions:
.IP \[bu] 2
Archive formats \f[CR]7z\f[R], \f[CR]7zip\f[R], \f[CR]a\f[R],
\f[CR]ar\f[R], \f[CR]cab\f[R], \f[CR]cpio\f[R], \f[CR]deb\f[R],
\f[CR]iso\f[R], \f[CR]iso9660\f[R], \f[CR]jar\f[R], \f[CR]mtree\f[R],
\f[CR]rar\f[R], \f[CR]rpm\f[R], \f[CR]tar\f[R], \f[CR]warc\f[R],
\f[CR]xar\f[R], \f[CR]zip\f[R], \f[CR]zipx\f[R]
.IP \[bu] 2
ZIP\-based file formats \f[CR]crx\f[R], \f[CR]odf\f[R], \f[CR]odg\f[R],
\f[CR]odp\f[R], \f[CR]ods\f[R], \f[CR]odt\f[R], \f[CR]docx\f[R],
\f[CR]ppsx\f[R], \f[CR]pptx\f[R], \f[CR]xlsx\f[R]
.IP \[bu] 2
Compressed TARs \f[CR]tb2\f[R], \f[CR]tbz\f[R], \f[CR]tbz2\f[R],
\f[CR]tz2\f[R], \f[CR]tgz\f[R], \f[CR]tlz\f[R], \f[CR]tlz4\f[R],
\f[CR]tlzma\f[R], \f[CR]txz\f[R], \f[CR]tz\f[R], \f[CR]taz\f[R],
\f[CR]tzs\f[R], \f[CR]tzst\f[R], \f[CR]tzstd\f[R], \f[CR]tar.br\f[R],
\f[CR]tar.brotli\f[R], \f[CR]tar.bz2\f[R], \f[CR]tar.bzip2\f[R],
\f[CR]tar.grz\f[R], \f[CR]tar.grzip\f[R], \f[CR]tar.gz\f[R],
\f[CR]tar.gzip\f[R], \f[CR]tar.lha\f[R], \f[CR]tar.lrz\f[R],
\f[CR]tar.lrzip\f[R], \f[CR]tar.lz\f[R], \f[CR]tar.lz4\f[R],
\f[CR]tar.lzip\f[R], \f[CR]tar.lzma\f[R], \f[CR]tar.lzo\f[R],
\f[CR]tar.lzop\f[R], \f[CR]tar.xz\f[R], \f[CR]tar.z\f[R],
\f[CR]tar.zst\f[R], \f[CR]tar.zstd\f[R]
.IP \[bu] 2
Compression filters \f[CR]br\f[R], \f[CR]brotli\f[R], \f[CR]bz2\f[R],
\f[CR]bzip2\f[R], \f[CR]grz\f[R], \f[CR]grzip\f[R], \f[CR]gz\f[R],
\f[CR]gzip\f[R], \f[CR]lha\f[R], \f[CR]lrz\f[R], \f[CR]lrzip\f[R],
\f[CR]lz\f[R], \f[CR]lz4\f[R], \f[CR]lzip\f[R], \f[CR]lzma\f[R],
\f[CR]lzo\f[R], \f[CR]lzop\f[R], \f[CR]xz\f[R], \f[CR]z\f[R],
\f[CR]zst\f[R], \f[CR]zstd\f[R]
.IP \[bu] 2
ASCII encoding filters \f[CR]b64\f[R], \f[CR]base64\f[R], \f[CR]uu\f[R]
.PP
If the filename extension is not recognized, then
\f[B]fuse\-archive\f[R] determines the archive format by looking at its
byte contents.
This heuristic works all right most of the time, but there are corner
cases for which it might get confused.
.PP
\f[B]fuse\-archive\f[R] relies on the availability of the following
filter programs: \f[CR]base64\f[R], \f[CR]brotli\f[R],
\f[CR]compress\f[R], \f[CR]lrzip\f[R], \f[CR]lzop\f[R] and
\f[CR]grzip\f[R].
.SH CACHING
By default, \f[B]fuse\-archive\f[R] decompresses and caches the whole
archive before serving its contents.
This ensures that the served files can be accessed in any order without
any performance issue.
.PP
Decompressed data is cached in an anonymous file created in the
\f[CR]tmp\f[R] directory (\f[CR]$TMPDIR\f[R] or \f[CR]/tmp\f[R] by
default).
This cache can use a significant amount of disk space, but it is
automatically deleted when the archive is unmounted.
.PP
If there is not enough temporary space to cache the whole archive,
\f[B]fuse\-archive\f[R] can be run with the \f[CR]\-o nocache\f[R] or
the \f[CR]\-o lazycache\f[R] options.
However, this can cause \f[B]fuse\-archive\f[R] to be much slower at
serving files.
.SH PERFORMANCE
Create a single \f[CR].tar.gz\f[R] file that is 256 MiB decompressed and
255 KiB compressed (the file just contains repeated 0x00 NUL bytes):
.IP
.EX
$ truncate \-\-size=256M zeroes
$ tar cfz zeroes\-256mib.tar.gz zeroes
.EE
.PP
Here are \f[B]fuse\-archive\f[R]\[cq]s timings:
.IP
.EX
$ time fuse\-archive zeroes\-256mib.tar.gz mnt
real    0m0.443s

$ dd if=mnt/zeroes of=/dev/null status=progress
268435456 bytes (268 MB, 256 MiB) copied, 0.836048 s, 321 MB/s

$ fusermount \-u mnt
.EE
.PP
For comparison, here are \f[B]archivemount\f[R]\[cq]s timings:
.IP
.EX
$ time archivemount zeroes\-256mib.tar.gz mnt
real    0m0.581s

$ dd if=mnt/zeroes of=/dev/null status=progress
268435456 bytes (268 MB, 256 MiB) copied, 570.146 s, 471 kB/s

$ fusermount \-u mnt
.EE
.PP
In this case, \f[B]fuse\-archive\f[R] takes about the same time to load
the archive as \f[B]archivemount\f[R], but it is \f[B]\[ti]700Ã—
faster\f[R] (0.83s vs 570s) to copy out the decompressed contents.
This is because \f[B]fuse\-archive\f[R] fully caches the archive and
does not use \f[B]archivemount\f[R]\[cq]s \c
.UR https://github.com/cybernoid/archivemount/issues/21
quadratic complexity algorithm
.UE \c
\&.
.SH RETURN VALUE
.TP
\f[B]0\f[R]
Success.
.TP
\f[B]1\f[R]
Generic error code for: missing command line argument, too many command
line arguments, unknown option, mount point is not empty, etc.
.TP
\f[B]10\f[R]
Cannot create the mount point.
.TP
\f[B]11\f[R]
Cannot open the archive file.
.TP
\f[B]12\f[R]
Cannot create the cache file.
.TP
\f[B]13\f[R]
Cannot write to the cache file.
This is most likely the indication that there is not enough temp space.
.TP
\f[B]20\f[R]
The archive contains an encrypted file, but no password was provided.
.TP
\f[B]21\f[R]
The archive contains an encrypted file, and the provided password does
not decrypt it.
.TP
\f[B]22\f[R]
The archive contains an encrypted file, and the encryption method is not
supported.
.TP
\f[B]30\f[R]
Cannot recognize the archive format.
.TP
\f[B]31\f[R]
Invalid archive header.
.TP
\f[B]32\f[R]
Cannot read and extract the archive.
.SH SEE ALSO
archivemount(1), mount\-zip(1), fuse\-zip(1), fusermount(1), fuse(8),
umount(8)
